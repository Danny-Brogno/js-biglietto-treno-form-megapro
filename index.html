<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>UN SITO INUTILE</title>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>

    <div class="container">
      <div class="row">
        <h2>Calcola il prezzo del tuo biglietto</h2>
        <div>

          <div class="input">

            <div class="">
              <label for="name">Nome e cognome</label>
              <input id="name" type= "text" name="name" value="">
            </div>

            <div class="">
              <label for="distance">Km da percorrere</label>
              <input id="distance" type= "number" name="distance" value="">
            </div>

            <div class="">
              <label for="eta">Fascia di et√†</label>
              <select id="eta" class="" name="eta">
                <option selected value="">Seleziona un'opzione</option>
                <option value="1">minorenne</option>
                <option value="2">maggiorenne</option>
                <option value="3">over 65</option>
              </select>
            </div>

          </div>
          <div class="action">
            <input id="genera" type="button" value="Genera">
            <input id="annulla" type="button" value="Annulla">
          </div>
        </div>
      </div>

      <div class="row">
        <h2>Il tuo biglietto</h2>

        <div>
          <p>Dettaglio passeggeri</p>
          <table>

            <thead>
              <tr>
                <th>Nome passeggero</th>
                <th>Offerta</th>
                <th>Carrozza</th>
                <th>Codice CP</th>
                <th>Costo biglietto</th>
              </tr>

            </thead>

            <tbody>
              <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td id="costo-totale"></td>
              </tr>
            </tbody>

            <tfoot>
              <tr>

              </tr>
            </tfoot>

          </table>
        </div>
      </div>

    </div>




  <!---__________JavaScript__________-->
  <script type="text/javascript">

    var generaBtn = document.getElementById('genera');
    var annullaBtn = document.getElementById('annulla');
    var costo = 0.21;
    var costoTotale = 0;

    generaBtn.addEventListener('click', function(){
      // console.log('Ho cliccato sul pulsante genera');
      var name = document.getElementById('name').value;
      // console.log(name);
      var distanza = parseInt(document.getElementById('distance').value);
      var eta = document.getElementById('eta').value;
      console.log(name, distanza, eta);
      if (name !== '' && distanza > 0 && eta !== '') {

        costoTotale = costo * distanza;

        console.log(costoTotale);
        if ( eta == 1 ) {
          // console.log("minorenne (pupo)");

          var sconto = costoTotale * 0.2;
          costoTotale = costoTotale - sconto;


        } else if ( eta == 3) {
          // console.log("over 65 (vecchio)", eta);


          var sconto = costoTotale * 0.4;
          costoTotale = costoTotale - sconto;
        }


        document.getElementById('costo-totale').innerHTML = costoTotale;
        var cp = Math.floor(Math.random() * (100000-90000) + 90000);
        console.log(cp);
      }


    });

    annullaBtn.addEventListener('click', function(){
      console.log('ho cliccato sul pulsante annulla');
    });

  </script>
  <!---__________END JavaScript__________-->
  </body>
</html>
